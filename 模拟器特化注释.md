tips

IMPORTANT!!!!!!所有的逻辑基于原神是60FPS

1.计算的时候将所有动作都做完，而不是停止在最后一个伤害结算帧。

2.角色不会被打。难以对不同怪物实现不同的受击计算，每个怪物每个攻击的逻辑和数据也并不清楚，故不做处理。

3.怪物暂时不会掉球，所有的球均产自角色技能或西风武器。后续可针对不同怪物进行优化。

4.产球均瞬间提供给场上角色，暂不考虑切人吃球。考虑到实操有神里后退吃迪奥娜双球，模拟器难以实现，故不做处理。

5.暂时只写了90级的面板，别的等级暂未适配。后续易实现。

6.螭骨剑默认全被动，且不会挨打不会掉层。（为2的延申）

7.迪卢克大招特化为对人形boss，只打斩击和两段dot。因对削韧的数据和逻辑不清，暂时只考虑不会被削韧的boss怪物。

8.敌人血量采用世界等级8的魔偶剑鬼，具体需要调整。因为不知道世界9是多少。

9.卡肉时间不予计算。迪卢克实操感受即使对于同一个动作，不同怪物的卡肉时间也是完全不同，具体数据无从得知，故暂不考虑，有数据易优化。

10.凯亚香菱大招不考虑相对位移。游戏实操香菱可以打出双判三判，但是对于模拟器的输入过于困难，如有需要后续可优化。

11.元素附着是针对怪物的，不同怪物的元素附着的计数器和计时器是单独计算的。我这里的融卢队四个角色都是普攻，战技和大招进行独立的元素附着，所以计时器和计数器我暂时按照动作名称分类，如dilucAttackCounter。如果有元素附着比较复杂的角色如菲谢尔，那之后对此可以再进行优化。

12.附着元素会随时间变少，但是实际上并不是完全的线性变化，但具体的数学模型无从考证；同样的，风元素对于弱于其元素量的残留元素的扩散元素量相对于风元素量也并不是完全线性变化，但具体的模型也无从考证。模拟器中将这两类模型暂且按线性模型来计算。

13.本模拟器目前只实现对单个敌人，所以以扩散反应的扩散元素为基础的元素反应暂不考虑。

14.实战中由于hitbox的存在以及角色走位会使得凯亚大招触发提前，我本次模拟仅考虑角色贴身魔偶剑鬼，且相对魔偶剑鬼无公转，假设凯亚的大招前两段dot相差约0.3s，后面都相同。

15.枫原万叶的下落攻击暂不考虑擦伤。一是擦伤具体的作用范围无从考究，二是不影响元素反应。

16.枫原万叶的突破增伤被动，暂时只考虑元素战技和元素爆发，暂不考虑六命给其武器的风附魔带来的扩散反应。

17.枫原万叶的乱岚拨止的下落攻击不确定是按照吸取的元素量还是弱元素量，有待进一步测试。

18.扩散反应对本体造成的伤害精准的出伤时间未知，我于游戏内观察到会在扩散字样出现后几帧冒出伤害数字，但每次帧数也不同。但由翠绿之影圣遗物对于不同怪物减抗顺序的不同可推测，扩散反应和扩散伤害应该是同时发生。本模拟器暂按照同时发生进行计算，毕竟不影响整个流程。

19.同一帧发生多个元素反应没有规律，本模拟器直接不考虑顺序问题，也未尝不是一种没有规律。